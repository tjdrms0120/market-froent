{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu/ci-cd/market-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from\"react\";import\"./index.css\";import axios from\"axios\";import{Link}from\"react-router-dom\";import dayjs from\"dayjs\";import relativeTime from\"dayjs/plugin/relativeTime\";import{API_URL}from\"../config/constants.js\";import{Carousel,Spin}from\"antd\";import\"dayjs/locale/ko\";import ProductCard from\"../components/productCard\";dayjs.extend(relativeTime);dayjs.locale(\"ko\");function MainPage(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),products=_React$useState2[0],setProducts=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),banners=_React$useState4[0],setBanners=_React$useState4[1];React.useEffect(function(){axios.get(\"\".concat(API_URL,\"/products\")).then(function(result){var products=result.data.products;setProducts(products);}).catch(function(error){console.error(\"에러 발생 : \",error);});axios.get(\"\".concat(API_URL,\"/banners\")).then(function(result){var banners=result.data.banners;setBanners(banners);}).catch(function(error){console.error(\"에러 발생 : \",error);});},[]);if(products.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",paddingTop:32},children:/*#__PURE__*/_jsx(Spin,{size:\"large\"})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Carousel,{autoplay:true,autoplaySpeed:3000,children:banners.map(function(banner,index){return/*#__PURE__*/_jsx(Link,{to:banner.href,children:/*#__PURE__*/_jsx(\"div\",{id:\"banner\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API_URL,\"/\").concat(banner.imageUrl)})})});})}),/*#__PURE__*/_jsx(\"h1\",{id:\"product-headline\",children:\"\\uD310\\uB9E4\\uB418\\uB294 \\uC0C1\\uD488\\uB4E4\"}),/*#__PURE__*/_jsx(\"div\",{id:\"product-list\",children:products.map(function(product,index){return/*#__PURE__*/_jsx(ProductCard,{product:product},index);})})]});}export default MainPage;","map":{"version":3,"sources":["/home/ubuntu/ci-cd/market-frontend/src/main/index.js"],"names":["React","axios","Link","dayjs","relativeTime","API_URL","Carousel","Spin","ProductCard","extend","locale","MainPage","useState","products","setProducts","banners","setBanners","useEffect","get","then","result","data","catch","error","console","length","textAlign","paddingTop","map","banner","index","href","imageUrl","product"],"mappings":"iPAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,OAASC,OAAT,KAAwB,wBAAxB,CACA,OAASC,QAAT,CAAmBC,IAAnB,KAA+B,MAA/B,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CAEAL,KAAK,CAACM,MAAN,CAAaL,YAAb,EACAD,KAAK,CAACO,MAAN,CAAa,IAAb,EAEA,QAASC,CAAAA,QAAT,EAAoB,qBACcX,KAAK,CAACY,QAAN,CAAe,EAAf,CADd,oDACXC,QADW,qBACDC,WADC,0CAEYd,KAAK,CAACY,QAAN,CAAe,EAAf,CAFZ,qDAEXG,OAFW,qBAEFC,UAFE,qBAGlBhB,KAAK,CAACiB,SAAN,CAAgB,UAAY,CAC1BhB,KAAK,CACFiB,GADH,WACUb,OADV,eAEGc,IAFH,CAEQ,SAAUC,MAAV,CAAkB,CACtB,GAAMP,CAAAA,QAAQ,CAAGO,MAAM,CAACC,IAAP,CAAYR,QAA7B,CACAC,WAAW,CAACD,QAAD,CAAX,CACD,CALH,EAMGS,KANH,CAMS,SAAUC,KAAV,CAAiB,CACtBC,OAAO,CAACD,KAAR,CAAc,UAAd,CAA0BA,KAA1B,EACD,CARH,EAUAtB,KAAK,CACFiB,GADH,WACUb,OADV,cAEGc,IAFH,CAEQ,SAACC,MAAD,CAAY,CAChB,GAAML,CAAAA,OAAO,CAAGK,MAAM,CAACC,IAAP,CAAYN,OAA5B,CACAC,UAAU,CAACD,OAAD,CAAV,CACD,CALH,EAMGO,KANH,CAMS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACD,KAAR,CAAc,UAAd,CAA0BA,KAA1B,EACD,CARH,EASD,CApBD,CAoBG,EApBH,EAqBA,GAAIV,QAAQ,CAACY,MAAT,GAAoB,CAAxB,CAA2B,CACzB,mBACE,YAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAuBC,UAAU,CAAE,EAAnC,CAAZ,uBACE,KAAC,IAAD,EAAM,IAAI,CAAC,OAAX,EADF,EADF,CAKD,CAED,mBACE,oCACE,KAAC,QAAD,EAAU,QAAQ,KAAlB,CAAmB,aAAa,CAAE,IAAlC,UACGZ,OAAO,CAACa,GAAR,CAAY,SAACC,MAAD,CAASC,KAAT,CAAmB,CAC9B,mBACE,KAAC,IAAD,EAAM,EAAE,CAAED,MAAM,CAACE,IAAjB,uBACE,YAAK,EAAE,CAAC,QAAR,uBACE,YAAK,GAAG,WAAK1B,OAAL,aAAgBwB,MAAM,CAACG,QAAvB,CAAR,EADF,EADF,EADF,CAOD,CARA,CADH,EADF,cAYE,WAAI,EAAE,CAAC,kBAAP,yDAZF,cAaE,YAAK,EAAE,CAAC,cAAR,UACGnB,QAAQ,CAACe,GAAT,CAAa,SAAUK,OAAV,CAAmBH,KAAnB,CAA0B,CACtC,mBAAO,KAAC,WAAD,EAAa,OAAO,CAAEG,OAAtB,EAAoCH,KAApC,CAAP,CACD,CAFA,CADH,EAbF,GADF,CAqBD,CAED,cAAenB,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport { API_URL } from \"../config/constants.js\";\nimport { Carousel, Spin } from \"antd\";\nimport \"dayjs/locale/ko\";\nimport ProductCard from \"../components/productCard\";\n\ndayjs.extend(relativeTime);\ndayjs.locale(\"ko\");\n\nfunction MainPage() {\n  const [products, setProducts] = React.useState([]);\n  const [banners, setBanners] = React.useState([]);\n  React.useEffect(function () {\n    axios\n      .get(`${API_URL}/products`)\n      .then(function (result) {\n        const products = result.data.products;\n        setProducts(products);\n      })\n      .catch(function (error) {\n        console.error(\"에러 발생 : \", error);\n      });\n\n    axios\n      .get(`${API_URL}/banners`)\n      .then((result) => {\n        const banners = result.data.banners;\n        setBanners(banners);\n      })\n      .catch((error) => {\n        console.error(\"에러 발생 : \", error);\n      });\n  }, []);\n  if (products.length === 0) {\n    return (\n      <div style={{ textAlign: \"center\", paddingTop: 32 }}>\n        <Spin size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <Carousel autoplay autoplaySpeed={3000}>\n        {banners.map((banner, index) => {\n          return (\n            <Link to={banner.href}>\n              <div id=\"banner\">\n                <img src={`${API_URL}/${banner.imageUrl}`} />\n              </div>\n            </Link>\n          );\n        })}\n      </Carousel>\n      <h1 id=\"product-headline\">판매되는 상품들</h1>\n      <div id=\"product-list\">\n        {products.map(function (product, index) {\n          return <ProductCard product={product} key={index} />;\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default MainPage;\n"]},"metadata":{},"sourceType":"module"}